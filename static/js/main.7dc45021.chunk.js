(this["webpackJsonpovertone-reactor"]=this["webpackJsonpovertone-reactor"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);n(10);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),s=n(3),i=n(1),u=n(2),f=n.n(u);f.a.volume=.5;var l=new f.a.Sound({source:"wave",options:{frequency:100,volume:.2}});l.addEffect(new f.a.Effects.Distortion({gain:.2})),l.addEffect(new f.a.Effects.Reverb({time:1,decay:.8,reverse:!0,mix:.5}));var d=function(){return l.play()},m=function(){return l.stop()},b=function(e){return l.frequency=e},v=new f.a.Sound({source:"input"});v.addEffect(new f.a.Effects.Distortion({gain:1})),v.addEffect(new f.a.Effects.Delay({feedback:.6,time:.4,mix:.5}));var E=function(){return v.play()},g=function(){return v.stop()},y=new Map;!function e(){y.forEach((function(e){return e()})),window.setTimeout(e,1e3)}();var O=function(e,t,n){var r=Object(a.useState)(10),c=Object(s.a)(r,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){return E(),navigator.getUserMedia({audio:!0},(function(e){var t=new AudioContext,n=t.createMediaStreamSource(e),a=t.createAnalyser();n.connect(a),a.fftSize=1024;var r=new Uint8Array(a.frequencyBinCount);!function e(){requestAnimationFrame(e),a.getByteFrequencyData(r);var t=r[0];i(Math.floor(t/2))}()}),(function(){})),function(){g()}}),[]),function(e){var t=Object(a.useRef)();Object(a.useEffect)((function(){t.current=e}),[e]),Object(a.useEffect)((function(){var e=Date.now();return y.set(e,(function(){return t.current&&t.current.apply(t,arguments)})),function(){y.delete(e)}}),[])}((function(){var a=e+o-n;t(a>=100?100:a<=0?0:a)})),o},j=new f.a.Sound("/assets/sounds/level-up.wav");j.addEffect(new f.a.Effects.Delay({feedback:.6,time:.4,mix:.5}));var p=function(){return j.play()},h=i.StyleSheet.create({container:{display:"flex",flexDirection:"column",padding:20},header:{display:"flex",alignItems:"center",height:100},headerTitle:{flex:1},headerStats:{},main:{display:"flex",flex:1,alignItems:"center"},energyContainer:{position:"relative",width:100,height:500,border:"2px solid #FFFFFF",borderRadius:5,backgroundImage:"url(assets/images/glass.jpg)",backgroundSize:"cover"},energyIndicator:{backgroundColor:"#03fc39",position:"absolute",bottom:0,left:0,right:0,height:5,transform:"scale3d(1, 1, 1)",transformOrigin:"bottom",transition:"transform 1s"},energySourceContainer:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},energySource:{width:2,height:2,borderRadius:1,backgroundColor:"#EB4034",transform:"scale3d(1, 1, 1)",transition:"transform 1s"}}),S=function(){var e=function(){var e=Object(a.useState)(50),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){return d(),function(){m()}}),[]),Object(a.useEffect)((function(){b(n+100)}),[n]),{energy:n,setEnergy:r}}(),t=e.energy,n=e.setEnergy,c=function(e){var t=Object(a.useState)(1),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){e<100||(c((function(e){return e+1})),p())}),[e]),r}(t),o=Object(a.useState)(1),u=Object(s.a)(o,2),f=u[0],l=u[1],v=Object(a.useState)(5),E=Object(s.a)(v,2),g=E[0],y=(E[1],O(t,n,f*g));return Object(a.useEffect)((function(){l(c)}),[c]),r.a.createElement("div",{className:Object(i.css)(h.container)},r.a.createElement("header",{className:Object(i.css)(h.header)},r.a.createElement("h1",{className:Object(i.css)(h.headerTitle)},"Overtone Reactor"),r.a.createElement("div",{className:Object(i.css)(h.headerStats)},r.a.createElement("div",null,"Residents: ",f),r.a.createElement("div",null,"Watts per Resident: ",g))),r.a.createElement("main",{className:Object(i.css)(h.main)},r.a.createElement("div",{className:Object(i.css)(h.energyContainer)},r.a.createElement("div",{className:Object(i.css)(h.energyIndicator),style:{transform:"scale3d(1, ".concat(t,", 1)")}})),r.a.createElement("div",{className:Object(i.css)(h.energySourceContainer)},r.a.createElement("div",{className:Object(i.css)(h.energySource),style:{transform:"scale3d(".concat(y,", ").concat(y,", 1)")}}))))},w=i.StyleSheet.create({container:{textAlign:"center",padding:20}}),x=function(e){var t=e.onStart;return r.a.createElement("div",{className:Object(i.css)(w.container)},r.a.createElement("h1",null,"Overtone Reactor"),r.a.createElement("p",null,"Welcome to the Overtone Reactor. Use your voice as a reactor to provide energy to your residents."),r.a.createElement("button",{onClick:t},"Start"))},C=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return n?r.a.createElement(S,null):r.a.createElement(x,{onStart:function(){return c(!0)}})};n(19);o.a.render(r.a.createElement(C,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(20)}},[[9,1,2]]]);
//# sourceMappingURL=main.7dc45021.chunk.js.map